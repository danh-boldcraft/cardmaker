# Environment Variables for All Environments
# Copy this file to .env and fill in your actual keys


# ====================================
# Memberstack API Keys (Environment-Specific)
# ====================================
# Get your keys from: https://app.memberstack.com/settings/api
#
# IMPORTANT: Test and Live keys access SEPARATE member databases
# - Test mode keys (pk_sb_* / sk_sb_*) → Access TEST members only (max 50 members)
# - Live mode keys (pk_* / sk_*) → Access LIVE/PRODUCTION members only (unlimited)
#
# This ensures proper environment isolation:
# - Users created in test mode cannot log into production
# - Users created in live mode cannot log into test/local environments

# Local Development Keys (use test/sandbox keys)
CM_MEMBERSTACK_LOCAL_PUBLIC_KEY=pk_sb_YOUR_LOCAL_KEY_HERE
CM_MEMBERSTACK_LOCAL_SECRET_KEY=sk_sb_YOUR_LOCAL_SECRET_HERE

# Test Environment Keys (use test/sandbox keys)
CM_MEMBERSTACK_TEST_PUBLIC_KEY=pk_sb_YOUR_TEST_KEY_HERE
CM_MEMBERSTACK_TEST_SECRET_KEY=sk_sb_YOUR_TEST_SECRET_HERE

# Production Environment Keys (use live/production keys)
CM_MEMBERSTACK_PROD_PUBLIC_KEY=pk_YOUR_PROD_KEY_HERE
CM_MEMBERSTACK_PROD_SECRET_KEY=sk_YOUR_PROD_SECRET_HERE

# ====================================
# How the keys are used:
# - npm run local → Uses CM_MEMBERSTACK_LOCAL_* keys
# - npm run deploy:test → Uses CM_MEMBERSTACK_TEST_* keys
# - npm run deploy:prod → Uses CM_MEMBERSTACK_PROD_* keys
# ====================================

# Local Development Server Configuration (optional)
# Uncomment and modify these if you need to change defaults

# CM_PORT - Port for local backend server (default: 3001)
# CM_PORT=3001

# CM_HOST - Host for local backend server (default: localhost)
# CM_HOST=localhost


# ====================================
# Shopify Integration (Environment-Specific)
# ====================================
# Get your store domain and access token from:
# Shopify Admin → Settings → Apps and sales channels → Develop apps → [Your App]
#
# Required scopes: write_draft_orders, read_orders, read_products
#
# WHEN TO USE DIFFERENT STORES:
# - For Phase 4a testing: Use your production store for both TEST and PROD (same values)
# - For Phase 4b testing (webhooks): Create a Shopify development store via Shopify Partners
#   and use it for TEST to avoid polluting production with test orders/webhooks
#
# How the keys are used:
# - npm run local → Uses CM_SHOPIFY_LOCAL_* keys
# - npm run deploy:test → Uses CM_SHOPIFY_TEST_* keys
# - npm run deploy:prod → Uses CM_SHOPIFY_PROD_* keys

# Local Development (use same as test, or your dev store)
CM_SHOPIFY_LOCAL_STORE_DOMAIN=6byetr-gu.myshopify.com
CM_SHOPIFY_LOCAL_ACCESS_TOKEN=shpat_YOUR_TOKEN_HERE
CM_SHOPIFY_LOCAL_CARD_VARIANT_ID=YOUR_VARIANT_ID_HERE
CM_SHOPIFY_LOCAL_WEBHOOK_SECRET=YOUR_WEBHOOK_SECRET_HERE

# Test Environment (use dev store for Phase 4b webhook testing, or prod store for Phase 4a)
CM_SHOPIFY_TEST_STORE_DOMAIN=6byetr-gu.myshopify.com
CM_SHOPIFY_TEST_ACCESS_TOKEN=shpat_YOUR_TOKEN_HERE
CM_SHOPIFY_TEST_CARD_VARIANT_ID=YOUR_VARIANT_ID_HERE
CM_SHOPIFY_TEST_WEBHOOK_SECRET=YOUR_WEBHOOK_SECRET_HERE

# Production Environment (your real Shopify store)
CM_SHOPIFY_PROD_STORE_DOMAIN=6byetr-gu.myshopify.com
CM_SHOPIFY_PROD_ACCESS_TOKEN=shpat_YOUR_TOKEN_HERE
CM_SHOPIFY_PROD_CARD_VARIANT_ID=YOUR_VARIANT_ID_HERE
CM_SHOPIFY_PROD_WEBHOOK_SECRET=YOUR_WEBHOOK_SECRET_HERE


# ====================================
# Printify Integration (for Cardmaker POC)
# ====================================
# Get your API key and Shop ID from: https://printify.com → Account → API
# Find blueprint IDs in the Printify API documentation

# CM_PRINTIFY_API_KEY - API key for authenticating with Printify API
CM_PRINTIFY_API_KEY=YOUR_PRINTIFY_API_KEY_HERE

# CM_PRINTIFY_SHOP_ID - Your Printify shop ID (numeric)
CM_PRINTIFY_SHOP_ID=YOUR_SHOP_ID_HERE

# CM_PRINTIFY_CARD_BLUEPRINT_ID - Blueprint ID for greeting cards
# Default: 1094 (Greeting Cards from Printify catalog)
CM_PRINTIFY_CARD_BLUEPRINT_ID=1094

# CM_PRINTIFY_PRINT_PROVIDER_ID - Print provider for greeting cards
# Default: 228 (Taylor)
# Find providers via API: GET /v1/catalog/blueprints/{blueprint_id}/print_providers.json
CM_PRINTIFY_PRINT_PROVIDER_ID=228

# CM_PRINTIFY_CARD_VARIANT_ID - Variant ID for 5x7 vertical matte greeting card (1pc)
# Default: 81866 (5" x 7" Vertical / Matte / 1 pc)
# Find variants via API: GET /v1/catalog/blueprints/{blueprint_id}/print_providers/{provider_id}/variants.json
CM_PRINTIFY_CARD_VARIANT_ID=81866


# ====================================
# Security & Guardrails (for Cardmaker POC)
# ====================================

# CM_ALLOWED_IPS - Comma-separated list of IP addresses allowed to access the app
# Use CIDR notation (e.g., x.x.x.x/32 for single IP)
# Get your IP: curl ifconfig.me
CM_ALLOWED_IPS=YOUR.IP.ADDRESS.HERE/32

# CM_MAX_DAILY_GENERATIONS - Maximum number of AI card generations per day (global limit)
CM_MAX_DAILY_GENERATIONS=50

# CM_MAX_DAILY_ORDERS - Maximum number of orders per day (global limit)
CM_MAX_DAILY_ORDERS=5


# Note: Never commit your actual .env file!
# These are just examples - replace with your real test keys
